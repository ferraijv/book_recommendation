{% extends "base.html" %}

{% block title %}SmartBookFinder - Reader Profile Input{% endblock %}

{% block content %}
<h1 class="form-title">Create Your Reader Profile</h1>
<div class="spinner" id="loadingSpinner"></div>
<div class="reader-profile-form">
    <form method="POST" action="/generate-reader-profile">

        <!-- Section 1: Favorites -->
        <fieldset>
            <legend>Favorites</legend>
            <label for="favorite-books">Favorite Books</label>
            <textarea id="favorite-books" name="favorite_books" rows="3" placeholder="E.g., Pride and Prejudice, Dune"></textarea>

            <label for="favorite-authors">Favorite Authors</label>
            <textarea id="favorite-authors" name="favorite_authors" rows="3" placeholder="E.g., Jane Austen, Frank Herbert"></textarea>

            <label for="genres">Favorite Genres</label>
            <textarea id="genres" name="genres" rows="3" placeholder="E.g., mystery, sci-fi, romance"></textarea>
        </fieldset>

        <!-- Section 2: Preferences -->
        <fieldset>
            <legend>Preferences</legend>
            <label for="themes-to-avoid">Genres to Avoid</label>
            <textarea id="themes-to-avoid" name="themes_to_avoid" rows="3" placeholder="E.g., horror, dystopian"></textarea>
        </fieldset>

        <!-- Section 4: Goals -->
        <fieldset>
            <legend>Goals</legend>
            <label for="reading-goals">Reading Goals</label>
            <textarea id="reading-goals" name="reading_goals" rows="3" placeholder="E.g., explore new genres, read more"></textarea>
        </fieldset>

        <!-- Section 5: Optional -->
        <fieldset>
            <legend>Optional</legend>
            <label for="mbti">MBTI Personality Type</label>
            <input type="text" id="mbti" name="mbti" maxlength="4" placeholder="E.g., INTJ, ENFP">
        </fieldset>

        <button type="submit">Generate My Profile</button>
    </form>
</div>

    <script>
    const form = document.querySelector("form");
    const spinner = document.getElementById("loadingSpinner");

    form.addEventListener("submit", () => {
        spinner.style.display = "block"; // Show the spinner
        loadingText.style.display = "block"; // Show the loading text
    });
    </script>
{% endblock %}